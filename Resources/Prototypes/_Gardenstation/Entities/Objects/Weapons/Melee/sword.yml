#bso rapier - this kinda works like the justice sword almost just a little less silly
- type: entity
  name: Blueshield officer's vibro-rapier # :whimsy:
  parent: [ BaseSword, BaseCentcommContraband]
  id: BsoVibroRapier
  description: A Voladov Arms manufactured rapier fitted with a high-tech vibroblade, quite common to see used by inner-spindle aristocracy and their bodyguards. A reflex trainer is fitted in its grip.
  components:
  - type: Tag
    tags:
    - BsoRapier
  - type: Tool
    qualities:
    - Slicing
    - Knife
  - type: Item
    sprite: _Gardenstation/Objects/Weapons/Melee/bso_vibrorapier.rsi
    heldPrefix: off
    size: Large
    storedRotation: -90
    shape:
    - 0,0,0,3
  - type: Sprite
    sprite: _Gardenstation/Objects/Weapons/Melee/bso_vibrorapier.rsi
    state: icon
  - type: Battery
    maxCharge: 1000
    startingCharge: 1000
  - type: BatterySelfRecharger
    autoRecharge: true
    autoRechargeRate: 50
    autoRechargePause: true
    autoRechargePauseTime: 40
  - type: Sharp
  - type: Execution
    doAfterDuration: 4.0
  - type: MeleeWeapon
    wideAnimationRotation: -15
    range: 1.8
    attackRate: 0.8
    damage:
      types:
        Piercing: 15
    angle: 60
    animation: WeaponArcThrust
  - type: MeleeDash
  - type: UseDelay
    delay: 1.5
  - type: StaminaDamageOnHit # BSO should be able to disable the attacker before they kill them instead hopefully...
    damage: 5
    sound: /Audio/Weapons/Guns/Hits/taser_hit.ogg
  - type: DisarmMalus
    malus: 0.125
  - type: MeleeSpeech # DO NOT RESIST! DO NOT RESIST!! DO NOT RESIST!!!
  - type: ActivatableUI
    key: enum.MeleeSpeechUiKey.Key # debating on whether to give this a persona ghost role or not. maybe stick it in the hat idk and just keep the melee speech.
    verbOnly: true
  - type: Actions
  - type: UserInterface
    interfaces:
      enum.MeleeSpeechUiKey.Key:
        type: MeleeSpeechBoundUserInterface
  - type: EmbeddableProjectile # toss it yaayyy
    sound: /Audio/Weapons/star_hit.ogg
    offset: -0.15,0.0
  - type: LandAtCursor
  - type: ItemSwitch # new sword wit da switch
    needsPower: true
    defaultState: off
    state: "off"
    showLabel: true
    states:
      off: !type:ItemSwitchState
        verb: off
        energyPerUse: 0
        sprite:
          sprite: _Gardenstation/Objects/Weapons/Melee/bso_vibrorapier.rsi
          state: icon-off
        components:
        - type: MeleeWeapon
          wideAnimationRotation: -15
          attackRate: 1.5
          damage:
            types:
              Piercing: 15
          soundHit:
            path: /Audio/Weapons/bladeslice.ogg
          angle: 60
          animation: WeaponArcThrust

      stun: !type:ItemSwitchState
        verb: low # the blade is under-volted allowing the current running thru the blade normally to act as a stunbaton
        energyPerUse: 48
        sprite:
          sprite: _Gardenstation/Objects/Weapons/Melee/bso_vibrorapier.rsi
          state: stun-icon
        components:
        - type: MeleeWeapon
          wideAnimationRotation: -15
          attackRate: 1.5
          damage:
            types:
              Piercing: 15 #the blade doesnt become less sharp, its still a sword.
            armorPenetration: 0.3 # undervolted, doesnt slip between particles as well
          angle: 60
          animation: WeaponArcThrust
          soundHit:
            path: /Audio/Weapons/eblademiss.ogg # wrrrm
        - type: StaminaDamageOnHit
          damage: 35
          overtime: 15
        soundStateActivate:
          collection: sparks
          params:
            variation: 0.250

      lethal: !type:ItemSwitchState # tbh i wanna add a melee deflect tag here but idk how good thatd be as it is now. maybe some kinda poise system for melee would be nice?
        verb: high
        energyPerUse: 80
        sprite:
          sprite: _Gardenstation/Objects/Weapons/Melee/bso_vibrorapier.rsi
          state: lethal-icon # less flashy than the undervolted one. as the power is increased the vibration makes the blade a horizontal blur
        components:
        - type: MeleeWeapon
          wideAnimationRotation: -15
          attackRate: 1.5
          damage:
            types:
              Slash: 5 #until weaponbased martial arts are thing, this is a stand-in for the lethal stance using more slashing techniques and aiming for arteries
              Piercing: 20
            armorPenetration: 1 # downtune this to like .8 at the very MOST - it should cut thru armor like butter because it vibrates thru atoms
          angle: 40 #tighter spread on lethal stance,
          animation: WeaponArcThrust
          soundHit:
            path: /Audio/Weapons/eblademiss.ogg
        soundStateActivate:
          collection: sparks
          params:
            variation: 0.250
# captain rapier
- type: entity
  name: captain's rapier
  parent: [ BaseSword, BaseCommandContraband ]
  id: CaptainsRapier
  description: A very traditional parade rapier designed for the captain of the station.
  components:
  - type: Sprite
    sprite: _Gardenstation/Objects/Weapons/Melee/captain_rapier.rsi
    state: icon
  - type: MeleeWeapon
    wideAnimationRotation: -15
    heavyStaminaCost: 1.5
    range: 1.8
    attackRate: 1.5
    damage:
      types:
        Piercing: 20 # just for pokin'
    soundHit:
      path: /Audio/Weapons/bladeslice.ogg
    angle: 30
    animation: WeaponArcThrust
  - type: EmbeddableProjectile
    offset: -0.15,0.0
  - type: LandAtCursor
    sound: /Audio/Weapons/star_hit.ogg
  - type: ThrowingAngle
    angle: 225
  - type: Reflect
    reflectProb: .3
    spread: 65 # more finesse in the blade or something. sit down.
  - type: Item
    size: Normal
    sprite: _Gardenstation/Objects/Weapons/Melee/captain_rapier.rsi
    shape:
    - 0,0,0,3 #tweak if it looks jank later
  - type: Tag
    tags:
    - CaptainRapier
  - type: DisarmMalus
    malus: 0.225
  - type: SentienceTarget
    flavorKind: station-event-random-sentience-flavor-inanimate
    weight: 0.02
  - type: FrenchAccent # would be funny if it only spoke tradeband but nobody fucking cares about eridan AUUUGHHHH <////3
  - type: SolutionContainerManager # poison tipped rapier?? its peak??? the bastard noble has no honor????
    solutions:
      melee:
        maxVol: 2 # would be fun to have a color changing layer to show whats on it but tbh that defeats the purpose of coat lol // also increase this later if it sucks
  - type: MeleeChemicalInjector
    solution: melee
  - type: RefillableSolution
    solution: melee
  - type: InjectableSolution
    solution: melee
  - type: SolutionInjectOnEmbed
    transferAmount: 2
    solution: melee
  - type: SolutionTransfer
    maxTransferAmount: 2
# when psionics are a thing theres a gonna a psychal rapier here too
